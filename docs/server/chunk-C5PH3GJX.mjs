import './polyfills.server.mjs';
import{A as G,B as pe,C as Ar,D as Mr,E as q,F as Dr,G as Vr,H as W,I as vn,J as Sr,K as ke,L as vt,S as Er,T as kr,U as _n,W as Pr,X as _t,Y as Ir,Z as Or,a as gr,aa as Fr,b as yr,c as vr,d as Ve,e as yn,f as ht,g as Se,ga as Nr,h as dt,i as pt,j as mt,k as j,l as _r,m as xr,n as wr,o as Re,p as Le,q as Ge,r as te,s as V,t as Cr,u as gt,v as se,w as yt,x as Ee,y as br,z as O}from"./chunk-RC3SINYN.mjs";import{a as ae,b as De,f as _a}from"./chunk-VVCT4QZE.mjs";function $e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}var Pe=class extends Map{constructor(t,n=Ca){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(let[r,i]of t)this.set(r,i)}get(t){return super.get(Tr(this,t))}has(t){return super.has(Tr(this,t))}set(t,n){return super.set(xa(this,t),n)}delete(t){return super.delete(wa(this,t))}};function Tr({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):n}function xa({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function wa({_intern:e,_key:t},n){let r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Ca(e){return e!==null&&typeof e=="object"?e.valueOf():e}var ba=Math.sqrt(50),Aa=Math.sqrt(10),Ma=Math.sqrt(2);function Br(e,t,n){let r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=ba?10:o>=Aa?5:o>=Ma?2:1,a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?Br(e,t,n*2):[a,l,c]}function xn(e,t,n){return t=+t,e=+e,n=+n,Br(e,t,n)[2]}function wn(e,t,n){t=+t,e=+e,n=+n;let r=t<e,i=r?xn(t,e,n):xn(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function xt(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function wt(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}var Da={value:()=>{}};function Lr(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ct(n)}function Ct(e){this._=e}function Va(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ct.prototype=Lr.prototype={constructor:Ct,on:function(e,t){var n=this._,r=Va(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=Sa(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=Rr(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Rr(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ct(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function Sa(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Rr(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Da,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Cn=Lr;var bt="http://www.w3.org/1999/xhtml",bn={svg:"http://www.w3.org/2000/svg",xhtml:bt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ne(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),bn.hasOwnProperty(t)?{space:bn[t],local:e}:e}function Ea(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===bt&&t.documentElement.namespaceURI===bt?t.createElement(e):t.createElementNS(n,e)}}function ka(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function At(e){var t=ne(e);return(t.local?ka:Ea)(t)}function Pa(){}function me(e){return e==null?Pa:function(){return this.querySelector(e)}}function Gr(e){typeof e!="function"&&(e=me(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,c,u=0;u<s;++u)(l=o[u])&&(c=e.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new D(r,this._parents)}function An(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ia(){return[]}function He(e){return e==null?Ia:function(){return this.querySelectorAll(e)}}function Oa(e){return function(){return An(e.apply(this,arguments))}}function $r(e){typeof e=="function"?e=Oa(e):e=He(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(r.push(e.call(l,l.__data__,c,s)),i.push(l));return new D(r,i)}function ze(e){return function(){return this.matches(e)}}function Mt(e){return function(t){return t.matches(e)}}var Fa=Array.prototype.find;function Na(e){return function(){return Fa.call(this.children,e)}}function Ta(){return this.firstElementChild}function Hr(e){return this.select(e==null?Ta:Na(typeof e=="function"?e:Mt(e)))}var Ba=Array.prototype.filter;function Ra(){return Array.from(this.children)}function La(e){return function(){return Ba.call(this.children,e)}}function zr(e){return this.selectAll(e==null?Ra:La(typeof e=="function"?e:Mt(e)))}function Ur(e){typeof e!="function"&&(e=ze(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new D(r,this._parents)}function Dt(e){return new Array(e.length)}function jr(){return new D(this._enter||this._groups.map(Dt),this._parents)}function Ue(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ue.prototype={constructor:Ue,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function qr(e){return function(){return e}}function Ga(e,t,n,r,i,o){for(var s=0,a,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new Ue(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function $a(e,t,n,r,i,o,s){var a,l,c=new Map,u=t.length,f=o.length,h=new Array(u),d;for(a=0;a<u;++a)(l=t[a])&&(h[a]=d=s.call(l,l.__data__,a,t)+"",c.has(d)?i[a]=l:c.set(d,l));for(a=0;a<f;++a)d=s.call(e,o[a],a,o)+"",(l=c.get(d))?(r[a]=l,l.__data__=o[a],c.delete(d)):n[a]=new Ue(e,o[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(h[a])===l&&(i[a]=l)}function Ha(e){return e.__data__}function Wr(e,t){if(!arguments.length)return Array.from(this,Ha);var n=t?$a:Ga,r=this._parents,i=this._groups;typeof e!="function"&&(e=qr(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],f=i[c],h=f.length,d=za(e.call(u,u&&u.__data__,c,r)),v=d.length,y=a[c]=new Array(v),m=s[c]=new Array(v),w=l[c]=new Array(h);n(u,f,y,m,w,d,t);for(var b=0,g=0,_,M;b<v;++b)if(_=y[b]){for(b>=g&&(g=b+1);!(M=m[g])&&++g<v;);_._next=M||null}}return s=new D(s,r),s._enter=a,s._exit=l,s}function za(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Yr(){return new D(this._exit||this._groups.map(Dt),this._parents)}function Xr(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Kr(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var c=n[l],u=r[l],f=c.length,h=a[l]=new Array(f),d,v=0;v<f;++v)(d=c[v]||u[v])&&(h[v]=d);for(;l<i;++l)a[l]=n[l];return new D(a,this._parents)}function Zr(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Qr(e){e||(e=Ua);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),c,u=0;u<a;++u)(c=s[u])&&(l[u]=c);l.sort(t)}return new D(i,this._parents).order()}function Ua(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Jr(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ei(){return Array.from(this)}function ti(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function ni(){let e=0;for(let t of this)++e;return e}function ri(){return!this.node()}function ii(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function ja(e){return function(){this.removeAttribute(e)}}function qa(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Wa(e,t){return function(){this.setAttribute(e,t)}}function Ya(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Xa(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Ka(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function oi(e,t){var n=ne(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?qa:ja:typeof t=="function"?n.local?Ka:Xa:n.local?Ya:Wa)(n,t))}function Vt(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Za(e){return function(){this.style.removeProperty(e)}}function Qa(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ja(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function ai(e,t,n){return arguments.length>1?this.each((t==null?Za:typeof t=="function"?Ja:Qa)(e,t,n??"")):le(this.node(),e)}function le(e,t){return e.style.getPropertyValue(t)||Vt(e).getComputedStyle(e,null).getPropertyValue(t)}function es(e){return function(){delete this[e]}}function ts(e,t){return function(){this[e]=t}}function ns(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function si(e,t){return arguments.length>1?this.each((t==null?es:typeof t=="function"?ns:ts)(e,t)):this.node()[e]}function li(e){return e.trim().split(/^|\s+/)}function Mn(e){return e.classList||new ui(e)}function ui(e){this._node=e,this._names=li(e.getAttribute("class")||"")}ui.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ci(e,t){for(var n=Mn(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function fi(e,t){for(var n=Mn(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function rs(e){return function(){ci(this,e)}}function is(e){return function(){fi(this,e)}}function os(e,t){return function(){(t.apply(this,arguments)?ci:fi)(this,e)}}function hi(e,t){var n=li(e+"");if(arguments.length<2){for(var r=Mn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?os:t?rs:is)(n,t))}function as(){this.textContent=""}function ss(e){return function(){this.textContent=e}}function ls(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function di(e){return arguments.length?this.each(e==null?as:(typeof e=="function"?ls:ss)(e)):this.node().textContent}function us(){this.innerHTML=""}function cs(e){return function(){this.innerHTML=e}}function fs(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function pi(e){return arguments.length?this.each(e==null?us:(typeof e=="function"?fs:cs)(e)):this.node().innerHTML}function hs(){this.nextSibling&&this.parentNode.appendChild(this)}function mi(){return this.each(hs)}function ds(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function gi(){return this.each(ds)}function yi(e){var t=typeof e=="function"?e:At(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ps(){return null}function vi(e,t){var n=typeof e=="function"?e:At(e),r=t==null?ps:typeof t=="function"?t:me(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function ms(){var e=this.parentNode;e&&e.removeChild(this)}function _i(){return this.each(ms)}function gs(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ys(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function xi(e){return this.select(e?ys:gs)}function wi(e){return arguments.length?this.property("__data__",e):this.node().__data__}function vs(e){return function(t){e.call(this,t,this.__data__)}}function _s(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function xs(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function ws(e,t,n){return function(){var r=this.__on,i,o=vs(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Ci(e,t,n){var r=_s(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<o;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(a=t?ws:xs,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function bi(e,t,n){var r=Vt(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Cs(e,t){return function(){return bi(this,e,t)}}function bs(e,t){return function(){return bi(this,e,t.apply(this,arguments))}}function Ai(e,t){return this.each((typeof t=="function"?bs:Cs)(e,t))}function*Mi(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var Dn=[null];function D(e,t){this._groups=e,this._parents=t}function Di(){return new D([[document.documentElement]],Dn)}function As(){return this}D.prototype=Di.prototype={constructor:D,select:Gr,selectAll:$r,selectChild:Hr,selectChildren:zr,filter:Ur,data:Wr,enter:jr,exit:Yr,join:Xr,merge:Kr,selection:As,order:Zr,sort:Qr,call:Jr,nodes:ei,node:ti,size:ni,empty:ri,each:ii,attr:oi,style:ai,property:si,classed:hi,text:di,html:pi,raise:mi,lower:gi,append:yi,insert:vi,remove:_i,clone:xi,datum:wi,on:Ci,dispatch:Ai,[Symbol.iterator]:Mi};var re=Di;function St(e){return typeof e=="string"?new D([[document.querySelector(e)]],[document.documentElement]):new D([[e]],Dn)}function Et(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Vn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function We(){}var je=.7,It=1/je,Ie="\\s*([+-]?\\d+)\\s*",qe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Q="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ms=/^#([0-9a-f]{3,8})$/,Ds=new RegExp(`^rgb\\(${Ie},${Ie},${Ie}\\)$`),Vs=new RegExp(`^rgb\\(${Q},${Q},${Q}\\)$`),Ss=new RegExp(`^rgba\\(${Ie},${Ie},${Ie},${qe}\\)$`),Es=new RegExp(`^rgba\\(${Q},${Q},${Q},${qe}\\)$`),ks=new RegExp(`^hsl\\(${qe},${Q},${Q}\\)$`),Ps=new RegExp(`^hsla\\(${qe},${Q},${Q},${qe}\\)$`),Vi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Et(We,ue,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Si,formatHex:Si,formatHex8:Is,formatHsl:Os,formatRgb:Ei,toString:Ei});function Si(){return this.rgb().formatHex()}function Is(){return this.rgb().formatHex8()}function Os(){return Ni(this).formatHsl()}function Ei(){return this.rgb().formatRgb()}function ue(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ms.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ki(t):n===3?new B(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?kt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?kt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ds.exec(e))?new B(t[1],t[2],t[3],1):(t=Vs.exec(e))?new B(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ss.exec(e))?kt(t[1],t[2],t[3],t[4]):(t=Es.exec(e))?kt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ks.exec(e))?Oi(t[1],t[2]/100,t[3]/100,1):(t=Ps.exec(e))?Oi(t[1],t[2]/100,t[3]/100,t[4]):Vi.hasOwnProperty(e)?ki(Vi[e]):e==="transparent"?new B(NaN,NaN,NaN,0):null}function ki(e){return new B(e>>16&255,e>>8&255,e&255,1)}function kt(e,t,n,r){return r<=0&&(e=t=n=NaN),new B(e,t,n,r)}function Fs(e){return e instanceof We||(e=ue(e)),e?(e=e.rgb(),new B(e.r,e.g,e.b,e.opacity)):new B}function Oe(e,t,n,r){return arguments.length===1?Fs(e):new B(e,t,n,r??1)}function B(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Et(B,Oe,Vn(We,{brighter(e){return e=e==null?It:Math.pow(It,e),new B(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?je:Math.pow(je,e),new B(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new B(ye(this.r),ye(this.g),ye(this.b),Ot(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pi,formatHex:Pi,formatHex8:Ns,formatRgb:Ii,toString:Ii}));function Pi(){return`#${ge(this.r)}${ge(this.g)}${ge(this.b)}`}function Ns(){return`#${ge(this.r)}${ge(this.g)}${ge(this.b)}${ge((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ii(){let e=Ot(this.opacity);return`${e===1?"rgb(":"rgba("}${ye(this.r)}, ${ye(this.g)}, ${ye(this.b)}${e===1?")":`, ${e})`}`}function Ot(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ye(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ge(e){return e=ye(e),(e<16?"0":"")+e.toString(16)}function Oi(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Y(e,t,n,r)}function Ni(e){if(e instanceof Y)return new Y(e.h,e.s,e.l,e.opacity);if(e instanceof We||(e=ue(e)),!e)return new Y;if(e instanceof Y)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Y(s,a,l,e.opacity)}function Ti(e,t,n,r){return arguments.length===1?Ni(e):new Y(e,t,n,r??1)}function Y(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Et(Y,Ti,Vn(We,{brighter(e){return e=e==null?It:Math.pow(It,e),new Y(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?je:Math.pow(je,e),new Y(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new B(Sn(e>=240?e-240:e+120,i,r),Sn(e,i,r),Sn(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Y(Fi(this.h),Pt(this.s),Pt(this.l),Ot(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=Ot(this.opacity);return`${e===1?"hsl(":"hsla("}${Fi(this.h)}, ${Pt(this.s)*100}%, ${Pt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Fi(e){return e=(e||0)%360,e<0?e+360:e}function Pt(e){return Math.max(0,Math.min(1,e||0))}function Sn(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function En(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}function Bi(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return En((n-r/t)*t,s,i,o,a)}}function Ri(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return En((n-r/t)*t,i,o,s,a)}}var kn=e=>()=>e;function Ts(e,t){return function(n){return e+n*t}}function Bs(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Li(e){return(e=+e)==1?Ft:function(t,n){return n-t?Bs(t,n,e):kn(isNaN(t)?n:t)}}function Ft(e,t){var n=t-e;return n?Ts(e,n):kn(isNaN(e)?t:e)}var Nt=function e(t){var n=Li(t);function r(i,o){var s=n((i=Oe(i)).r,(o=Oe(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=Ft(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function Gi(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),s,a;for(s=0;s<n;++s)a=Oe(t[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=e(r),i=e(i),o=e(o),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=o(l),a+""}}}var Rs=Gi(Bi),Ls=Gi(Ri);function $(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var In=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pn=new RegExp(In.source,"g");function Gs(e){return function(){return e}}function $s(e){return function(t){return e(t)+""}}function On(e,t){var n=In.lastIndex=Pn.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=In.exec(e))&&(i=Pn.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:$(r,i)})),n=Pn.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?$s(l[0].x):Gs(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)a[(f=l[u]).i]=f.x(c);return a.join("")})}var $i=180/Math.PI,Tt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Fn(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*$i,skewX:Math.atan(l)*$i,scaleX:s,scaleY:a}}var Bt;function Hi(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Tt:Fn(t.a,t.b,t.c,t.d,t.e,t.f)}function zi(e){return e==null?Tt:(Bt||(Bt=document.createElementNS("http://www.w3.org/2000/svg","g")),Bt.setAttribute("transform",e),(e=Bt.transform.baseVal.consolidate())?(e=e.matrix,Fn(e.a,e.b,e.c,e.d,e.e,e.f)):Tt)}function Ui(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,u,f,h,d,v){if(c!==f||u!==h){var y=d.push("translate(",null,t,null,n);v.push({i:y-4,x:$(c,f)},{i:y-2,x:$(u,h)})}else(f||h)&&d.push("translate("+f+t+h+n)}function s(c,u,f,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:$(c,u)})):u&&f.push(i(f)+"rotate("+u+r)}function a(c,u,f,h){c!==u?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:$(c,u)}):u&&f.push(i(f)+"skewX("+u+r)}function l(c,u,f,h,d,v){if(c!==f||u!==h){var y=d.push(i(d)+"scale(",null,",",null,")");v.push({i:y-4,x:$(c,f)},{i:y-2,x:$(u,h)})}else(f!==1||h!==1)&&d.push(i(d)+"scale("+f+","+h+")")}return function(c,u){var f=[],h=[];return c=e(c),u=e(u),o(c.translateX,c.translateY,u.translateX,u.translateY,f,h),s(c.rotate,u.rotate,f,h),a(c.skewX,u.skewX,f,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,h),c=u=null,function(d){for(var v=-1,y=h.length,m;++v<y;)f[(m=h[v]).i]=m.x(d);return f.join("")}}}var Nn=Ui(Hi,"px, ","px)","deg)"),Tn=Ui(zi,", ",")",")");var Fe=0,Xe=0,Ye=0,qi=1e3,Rt,Ke,Lt=0,ve=0,Gt=0,Ze=typeof performance=="object"&&performance.now?performance:Date,Wi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Je(){return ve||(Wi(Hs),ve=Ze.now()+Gt)}function Hs(){ve=0}function Qe(){this._call=this._time=this._next=null}Qe.prototype=$t.prototype={constructor:Qe,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Je():+n)+(t==null?0:+t),!this._next&&Ke!==this&&(Ke?Ke._next=this:Rt=this,Ke=this),this._call=e,this._time=n,Bn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Bn())}};function $t(e,t,n){var r=new Qe;return r.restart(e,t,n),r}function Yi(){Je(),++Fe;for(var e=Rt,t;e;)(t=ve-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Fe}function ji(){ve=(Lt=Ze.now())+Gt,Fe=Xe=0;try{Yi()}finally{Fe=0,Us(),ve=0}}function zs(){var e=Ze.now(),t=e-Lt;t>qi&&(Gt-=t,Lt=e)}function Us(){for(var e,t=Rt,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Rt=n);Ke=e,Bn(r)}function Bn(e){if(!Fe){Xe&&(Xe=clearTimeout(Xe));var t=e-ve;t>24?(e<1/0&&(Xe=setTimeout(ji,e-Ze.now()-Gt)),Ye&&(Ye=clearInterval(Ye))):(Ye||(Lt=Ze.now(),Ye=setInterval(zs,qi)),Fe=1,Wi(ji))}}function Ht(e,t,n){var r=new Qe;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var js=Cn("start","end","cancel","interrupt"),qs=[],Zi=0,Xi=1,Ut=2,zt=3,Ki=4,jt=5,et=6;function ce(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Ws(e,n,{name:t,index:r,group:i,on:js,tween:qs,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Zi})}function tt(e,t){var n=E(e,t);if(n.state>Zi)throw new Error("too late; already scheduled");return n}function P(e,t){var n=E(e,t);if(n.state>zt)throw new Error("too late; already running");return n}function E(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ws(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=$t(o,0,n.time);function o(c){n.state=Xi,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,f,h,d;if(n.state!==Xi)return l();for(u in r)if(d=r[u],d.name===n.name){if(d.state===zt)return Ht(s);d.state===Ki?(d.state=et,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[u]):+u<t&&(d.state=et,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[u])}if(Ht(function(){n.state===zt&&(n.state=Ki,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=Ut,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ut){for(n.state=zt,i=new Array(h=n.tween.length),u=0,f=-1;u<h;++u)(d=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=d);i.length=f+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=jt,1),f=-1,h=i.length;++f<h;)i[f].call(e,u);n.state===jt&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=et,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function qt(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>Ut&&r.state<jt,r.state=et,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function Qi(e){return this.each(function(){qt(this,e)})}function Ys(e,t){var n,r;return function(){var i=P(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Xs(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=P(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function Ji(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=E(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?Ys:Xs)(n,e,t))}function Ne(e,t,n){var r=e._id;return e.each(function(){var i=P(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return E(i,r).value[t]}}function Wt(e,t){var n;return(typeof t=="number"?$:t instanceof ue?Nt:(n=ue(t))?(t=n,Nt):On)(e,t)}function Ks(e){return function(){this.removeAttribute(e)}}function Zs(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Qs(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function Js(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function el(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function tl(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function eo(e,t){var n=ne(e),r=n==="transform"?Tn:Wt;return this.attrTween(e,typeof t=="function"?(n.local?tl:el)(n,r,Ne(this,"attr."+e,t)):t==null?(n.local?Zs:Ks)(n):(n.local?Js:Qs)(n,r,t))}function nl(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function rl(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function il(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&rl(e,o)),n}return i._value=t,i}function ol(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&nl(e,o)),n}return i._value=t,i}function to(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ne(e);return this.tween(n,(r.local?il:ol)(r,t))}function al(e,t){return function(){tt(this,e).delay=+t.apply(this,arguments)}}function sl(e,t){return t=+t,function(){tt(this,e).delay=t}}function no(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?al:sl)(t,e)):E(this.node(),t).delay}function ll(e,t){return function(){P(this,e).duration=+t.apply(this,arguments)}}function ul(e,t){return t=+t,function(){P(this,e).duration=t}}function ro(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ll:ul)(t,e)):E(this.node(),t).duration}function cl(e,t){if(typeof t!="function")throw new Error;return function(){P(this,e).ease=t}}function io(e){var t=this._id;return arguments.length?this.each(cl(t,e)):E(this.node(),t).ease}function fl(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;P(this,e).ease=n}}function oo(e){if(typeof e!="function")throw new Error;return this.each(fl(this._id,e))}function ao(e){typeof e!="function"&&(e=ze(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new F(r,this._parents,this._name,this._id)}function so(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],c=n[a],u=l.length,f=s[a]=new Array(u),h,d=0;d<u;++d)(h=l[d]||c[d])&&(f[d]=h);for(;a<r;++a)s[a]=t[a];return new F(s,this._parents,this._name,this._id)}function hl(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function dl(e,t,n){var r,i,o=hl(t)?tt:P;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function lo(e,t){var n=this._id;return arguments.length<2?E(this.node(),n).on.on(e):this.each(dl(n,e,t))}function pl(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function uo(){return this.on("end.remove",pl(this._id))}function co(e){var t=this._name,n=this._id;typeof e!="function"&&(e=me(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,c=o[s]=new Array(l),u,f,h=0;h<l;++h)(u=a[h])&&(f=e.call(u,u.__data__,h,a))&&("__data__"in u&&(f.__data__=u.__data__),c[h]=f,ce(c[h],t,n,h,c,E(u,n)));return new F(o,this._parents,t,n)}function fo(e){var t=this._name,n=this._id;typeof e!="function"&&(e=He(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var h=e.call(u,u.__data__,f,l),d,v=E(u,n),y=0,m=h.length;y<m;++y)(d=h[y])&&ce(d,t,n,y,h,v);o.push(h),s.push(u)}return new F(o,s,t,n)}var ml=re.prototype.constructor;function ho(){return new ml(this._groups,this._parents)}function gl(e,t){var n,r,i;return function(){var o=le(this,e),s=(this.style.removeProperty(e),le(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function po(e){return function(){this.style.removeProperty(e)}}function yl(e,t,n){var r,i=n+"",o;return function(){var s=le(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function vl(e,t,n){var r,i,o;return function(){var s=le(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),le(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function _l(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=P(this,e),c=l.on,u=l.value[o]==null?a||(a=po(t)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(s,i=u),l.on=r}}function mo(e,t,n){var r=(e+="")=="transform"?Nn:Wt;return t==null?this.styleTween(e,gl(e,r)).on("end.style."+e,po(e)):typeof t=="function"?this.styleTween(e,vl(e,r,Ne(this,"style."+e,t))).each(_l(this._id,e)):this.styleTween(e,yl(e,r,t),n).on("end.style."+e,null)}function xl(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function wl(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&xl(e,s,n)),r}return o._value=t,o}function go(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,wl(e,t,n??""))}function Cl(e){return function(){this.textContent=e}}function bl(e){return function(){var t=e(this);this.textContent=t??""}}function yo(e){return this.tween("text",typeof e=="function"?bl(Ne(this,"text",e)):Cl(e==null?"":e+""))}function Al(e){return function(t){this.textContent=e.call(this,t)}}function Ml(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Al(i)),t}return r._value=e,r}function vo(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Ml(e))}function _o(){for(var e=this._name,t=this._id,n=Yt(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var u=E(l,t);ce(l,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new F(r,this._parents,e,n)}function xo(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var c=P(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),i===0&&o()})}var Dl=0;function F(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function wo(e){return re().transition(e)}function Yt(){return++Dl}var ie=re.prototype;F.prototype=wo.prototype={constructor:F,select:co,selectAll:fo,selectChild:ie.selectChild,selectChildren:ie.selectChildren,filter:ao,merge:so,selection:ho,transition:_o,call:ie.call,nodes:ie.nodes,node:ie.node,size:ie.size,empty:ie.empty,each:ie.each,on:lo,attr:eo,attrTween:to,style:mo,styleTween:go,text:yo,textTween:vo,remove:uo,tween:Ji,delay:no,duration:ro,ease:io,easeVarying:oo,end:xo,[Symbol.iterator]:ie[Symbol.iterator]};function Xt(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Vl={time:null,delay:0,duration:250,ease:Xt};function Sl(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Co(e){var t,n;e instanceof F?(t=e._id,e=e._name):(t=Yt(),(n=Vl).time=Je(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&ce(l,e,t,c,s,n||Sl(l,t));return new F(r,this._parents,e,t)}re.prototype.interrupt=Qi;re.prototype.transition=Co;var{abs:Sg,max:Eg,min:kg}=Math;function bo(e){return[+e[0],+e[1]]}function El(e){return[bo(e[0]),bo(e[1])]}var Pg={name:"x",handles:["w","e"].map(Rn),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Ig={name:"y",handles:["n","s"].map(Rn),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Og={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Rn),input:function(e){return e==null?null:El(e)},output:function(e){return e}};function Rn(e){return{type:e}}var Ln=Math.abs,_e=Math.cos,xe=Math.sin,Ao=Math.PI,nt=Ao/2,Gn=Ao*2,$n=Math.max,Kt=1e-12;function Hn(e,t){return Array.from({length:t-e},(n,r)=>e+r)}function kl(e){return function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)}}function zn(){return Pl(!1,!1)}function Pl(e,t){var n=0,r=null,i=null,o=null;function s(a){var l=a.length,c=new Array(l),u=Hn(0,l),f=new Array(l*l),h=new Array(l),d=0,v;a=Float64Array.from({length:l*l},t?(y,m)=>a[m%l][m/l|0]:(y,m)=>a[m/l|0][m%l]);for(let y=0;y<l;++y){let m=0;for(let w=0;w<l;++w)m+=a[y*l+w]+e*a[w*l+y];d+=c[y]=m}d=$n(0,Gn-n*l)/d,v=d?n:Gn/l;{let y=0;r&&u.sort((m,w)=>r(c[m],c[w]));for(let m of u){let w=y;if(e){let b=Hn(~l+1,l).filter(g=>g<0?a[~g*l+m]:a[m*l+g]);i&&b.sort((g,_)=>i(g<0?-a[~g*l+m]:a[m*l+g],_<0?-a[~_*l+m]:a[m*l+_]));for(let g of b)if(g<0){let _=f[~g*l+m]||(f[~g*l+m]={source:null,target:null});_.target={index:m,startAngle:y,endAngle:y+=a[~g*l+m]*d,value:a[~g*l+m]}}else{let _=f[m*l+g]||(f[m*l+g]={source:null,target:null});_.source={index:m,startAngle:y,endAngle:y+=a[m*l+g]*d,value:a[m*l+g]}}h[m]={index:m,startAngle:w,endAngle:y,value:c[m]}}else{let b=Hn(0,l).filter(g=>a[m*l+g]||a[g*l+m]);i&&b.sort((g,_)=>i(a[m*l+g],a[m*l+_]));for(let g of b){let _;if(m<g?(_=f[m*l+g]||(f[m*l+g]={source:null,target:null}),_.source={index:m,startAngle:y,endAngle:y+=a[m*l+g]*d,value:a[m*l+g]}):(_=f[g*l+m]||(f[g*l+m]={source:null,target:null}),_.target={index:m,startAngle:y,endAngle:y+=a[m*l+g]*d,value:a[m*l+g]},m===g&&(_.source=_.target)),_.source&&_.target&&_.source.value<_.target.value){let M=_.source;_.source=_.target,_.target=M}}h[m]={index:m,startAngle:w,endAngle:y,value:c[m]}}y+=v}}return f=Object.values(f),f.groups=h,o?f.sort(o):f}return s.padAngle=function(a){return arguments.length?(n=$n(0,a),s):n},s.sortGroups=function(a){return arguments.length?(r=a,s):r},s.sortSubgroups=function(a){return arguments.length?(i=a,s):i},s.sortChords=function(a){return arguments.length?(a==null?o=null:(o=kl(a))._=a,s):o&&o._},s}var Un=Math.PI,jn=2*Un,we=1e-6,Il=jn-we;function Mo(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Ol(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Mo;let n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}var Ce=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Mo:Ol(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-t,c=i-n,u=s-t,f=a-n,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>we)if(!(Math.abs(f*l-c*u)>we)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let d=r-s,v=i-a,y=l*l+c*c,m=d*d+v*v,w=Math.sqrt(y),b=Math.sqrt(h),g=o*Math.tan((Un-Math.acos((y+h-m)/(2*w*b)))/2),_=g/b,M=g/w;Math.abs(_-1)>we&&this._append`L${t+_*u},${n+_*f}`,this._append`A${o},${o},0,0,${+(f*d>u*v)},${this._x1=t+M*l},${this._y1=n+M*c}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=t+a,u=n+l,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>we||Math.abs(this._y1-u)>we)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%jn+jn),h>Il?this._append`A${r},${r},0,1,${f},${t-a},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:h>we&&this._append`A${r},${r},0,${+(h>=Un)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function Zt(){return new Ce}Zt.prototype=Ce.prototype;var Do=Array.prototype.slice;function fe(e){return function(){return e}}function Fl(e){return e.source}function Nl(e){return e.target}function Vo(e){return e.radius}function Tl(e){return e.startAngle}function Bl(e){return e.endAngle}function Rl(){return 0}function Ll(e){var t=Fl,n=Nl,r=Vo,i=Vo,o=Tl,s=Bl,a=Rl,l=null;function c(){var u,f=t.apply(this,arguments),h=n.apply(this,arguments),d=a.apply(this,arguments)/2,v=Do.call(arguments),y=+r.apply(this,(v[0]=f,v)),m=o.apply(this,v)-nt,w=s.apply(this,v)-nt,b=+i.apply(this,(v[0]=h,v)),g=o.apply(this,v)-nt,_=s.apply(this,v)-nt;if(l||(l=u=Zt()),d>Kt&&(Ln(w-m)>d*2+Kt?w>m?(m+=d,w-=d):(m-=d,w+=d):m=w=(m+w)/2,Ln(_-g)>d*2+Kt?_>g?(g+=d,_-=d):(g-=d,_+=d):g=_=(g+_)/2),l.moveTo(y*_e(m),y*xe(m)),l.arc(0,0,y,m,w),m!==g||w!==_)if(e){var M=+e.apply(this,arguments),k=b-M,R=(g+_)/2;l.quadraticCurveTo(0,0,k*_e(g),k*xe(g)),l.lineTo(b*_e(R),b*xe(R)),l.lineTo(k*_e(_),k*xe(_))}else l.quadraticCurveTo(0,0,b*_e(g),b*xe(g)),l.arc(0,0,b,g,_);if(l.quadraticCurveTo(0,0,y*_e(m),y*xe(m)),l.closePath(),u)return l=null,u+""||null}return e&&(c.headRadius=function(u){return arguments.length?(e=typeof u=="function"?u:fe(+u),c):e}),c.radius=function(u){return arguments.length?(r=i=typeof u=="function"?u:fe(+u),c):r},c.sourceRadius=function(u){return arguments.length?(r=typeof u=="function"?u:fe(+u),c):r},c.targetRadius=function(u){return arguments.length?(i=typeof u=="function"?u:fe(+u),c):i},c.startAngle=function(u){return arguments.length?(o=typeof u=="function"?u:fe(+u),c):o},c.endAngle=function(u){return arguments.length?(s=typeof u=="function"?u:fe(+u),c):s},c.padAngle=function(u){return arguments.length?(a=typeof u=="function"?u:fe(+u),c):a},c.source=function(u){return arguments.length?(t=u,c):t},c.target=function(u){return arguments.length?(n=u,c):n},c.context=function(u){return arguments.length?(l=u??null,c):l},c}function qn(){return Ll()}function So(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function be(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Eo(e){return e=be(Math.abs(e)),e?e[1]:NaN}function ko(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function Po(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Gl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rt(e){if(!(t=Gl.exec(e)))throw new Error("invalid format: "+e);var t;return new Wn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}rt.prototype=Wn.prototype;function Wn(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Wn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Io(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Yn;function Oo(e,t){var n=be(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Yn=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+be(e,Math.max(0,t+o-1))[0]}function Xn(e,t){var n=be(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var Kn={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:So,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Xn(e*100,t),r:Xn,s:Oo,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Zn(e){return e}var Fo=Array.prototype.map,No=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function To(e){var t=e.grouping===void 0||e.thousands===void 0?Zn:ko(Fo.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Zn:Po(Fo.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"\u2212":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=rt(f);var h=f.fill,d=f.align,v=f.sign,y=f.symbol,m=f.zero,w=f.width,b=f.comma,g=f.precision,_=f.trim,M=f.type;M==="n"?(b=!0,M="g"):Kn[M]||(g===void 0&&(g=12),_=!0,M="g"),(m||h==="0"&&d==="=")&&(m=!0,h="0",d="=");var k=y==="$"?n:y==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",R=y==="$"?r:/[%p]/.test(M)?s:"",H=Kn[M],K=/[defgprs%]/.test(M);g=g===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function L(C){var S=k,x=R,A,Z,J;if(M==="c")x=H(C)+x,C="";else{C=+C;var z=C<0||1/C<0;if(C=isNaN(C)?l:H(Math.abs(C),g),_&&(C=Io(C)),z&&+C==0&&v!=="+"&&(z=!1),S=(z?v==="("?v:a:v==="-"||v==="("?"":v)+S,x=(M==="s"?No[8+Yn/3]:"")+x+(z&&v==="("?")":""),K){for(A=-1,Z=C.length;++A<Z;)if(J=C.charCodeAt(A),48>J||J>57){x=(J===46?i+C.slice(A+1):C.slice(A))+x,C=C.slice(0,A);break}}}b&&!m&&(C=t(C,1/0));var U=S.length+C.length+x.length,T=U<w?new Array(w-U+1).join(h):"";switch(b&&m&&(C=t(T+C,T.length?w-x.length:1/0),T=""),d){case"<":C=S+C+x+T;break;case"=":C=S+T+C+x;break;case"^":C=T.slice(0,U=T.length>>1)+S+C+x+T.slice(U);break;default:C=T+S+C+x;break}return o(C)}return L.toString=function(){return f+""},L}function u(f,h){var d=c((f=rt(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Eo(h)/3)))*3,y=Math.pow(10,-v),m=No[8+v/3];return function(w){return d(y*w)+m}}return{format:c,formatPrefix:u}}var Qt,Jt,Bo;Qn({thousands:",",grouping:[3],currency:["$",""]});function Qn(e){return Qt=To(e),Jt=Qt.format,Bo=Qt.formatPrefix,Qt}function Ro(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var Jn=Symbol("implicit");function Ae(){var e=new Pe,t=[],n=[],r=Jn;function i(o){let s=e.get(o);if(s===void 0){if(r!==Jn)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Pe;for(let s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Ae(t,n).unknown(r)},Ro.apply(i,arguments),i}function oe(e){return function(){return e}}var er=Math.abs,I=Math.atan2,he=Math.cos,Lo=Math.max,en=Math.min,X=Math.sin,Me=Math.sqrt,N=1e-12,Te=Math.PI,it=Te/2,Go=2*Te;function $o(e){return e>1?0:e<-1?Te:Math.acos(e)}function tr(e){return e>=1?it:e<=-1?-it:Math.asin(e)}function Ho(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{let r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Ce(t)}function $l(e){return e.innerRadius}function Hl(e){return e.outerRadius}function zl(e){return e.startAngle}function Ul(e){return e.endAngle}function jl(e){return e&&e.padAngle}function ql(e,t,n,r,i,o,s,a){var l=n-e,c=r-t,u=s-i,f=a-o,h=f*l-u*c;if(!(h*h<N))return h=(u*(t-o)-f*(e-i))/h,[e+h*l,t+h*c]}function tn(e,t,n,r,i,o,s){var a=e-n,l=t-r,c=(s?o:-o)/Me(a*a+l*l),u=c*l,f=-c*a,h=e+u,d=t+f,v=n+u,y=r+f,m=(h+v)/2,w=(d+y)/2,b=v-h,g=y-d,_=b*b+g*g,M=i-o,k=h*y-v*d,R=(g<0?-1:1)*Me(Lo(0,M*M*_-k*k)),H=(k*g-b*R)/_,K=(-k*b-g*R)/_,L=(k*g+b*R)/_,C=(-k*b+g*R)/_,S=H-m,x=K-w,A=L-m,Z=C-w;return S*S+x*x>A*A+Z*Z&&(H=L,K=C),{cx:H,cy:K,x01:-u,y01:-f,x11:H*(i/M-1),y11:K*(i/M-1)}}function nr(){var e=$l,t=Hl,n=oe(0),r=null,i=zl,o=Ul,s=jl,a=null,l=Ho(c);function c(){var u,f,h=+e.apply(this,arguments),d=+t.apply(this,arguments),v=i.apply(this,arguments)-it,y=o.apply(this,arguments)-it,m=er(y-v),w=y>v;if(a||(a=u=l()),d<h&&(f=d,d=h,h=f),!(d>N))a.moveTo(0,0);else if(m>Go-N)a.moveTo(d*he(v),d*X(v)),a.arc(0,0,d,v,y,!w),h>N&&(a.moveTo(h*he(y),h*X(y)),a.arc(0,0,h,y,v,w));else{var b=v,g=y,_=v,M=y,k=m,R=m,H=s.apply(this,arguments)/2,K=H>N&&(r?+r.apply(this,arguments):Me(h*h+d*d)),L=en(er(d-h)/2,+n.apply(this,arguments)),C=L,S=L,x,A;if(K>N){var Z=tr(K/h*X(H)),J=tr(K/d*X(H));(k-=Z*2)>N?(Z*=w?1:-1,_+=Z,M-=Z):(k=0,_=M=(v+y)/2),(R-=J*2)>N?(J*=w?1:-1,b+=J,g-=J):(R=0,b=g=(v+y)/2)}var z=d*he(b),U=d*X(b),T=h*he(M),ut=h*X(M);if(L>N){var ct=d*he(g),ft=d*X(g),fn=h*he(_),hn=h*X(_),ee;if(m<Te)if(ee=ql(z,U,fn,hn,ct,ft,T,ut)){var dn=z-ee[0],pn=U-ee[1],mn=ct-ee[0],gn=ft-ee[1],pr=1/X($o((dn*mn+pn*gn)/(Me(dn*dn+pn*pn)*Me(mn*mn+gn*gn)))/2),mr=Me(ee[0]*ee[0]+ee[1]*ee[1]);C=en(L,(h-mr)/(pr-1)),S=en(L,(d-mr)/(pr+1))}else C=S=0}R>N?S>N?(x=tn(fn,hn,z,U,d,S,w),A=tn(ct,ft,T,ut,d,S,w),a.moveTo(x.cx+x.x01,x.cy+x.y01),S<L?a.arc(x.cx,x.cy,S,I(x.y01,x.x01),I(A.y01,A.x01),!w):(a.arc(x.cx,x.cy,S,I(x.y01,x.x01),I(x.y11,x.x11),!w),a.arc(0,0,d,I(x.cy+x.y11,x.cx+x.x11),I(A.cy+A.y11,A.cx+A.x11),!w),a.arc(A.cx,A.cy,S,I(A.y11,A.x11),I(A.y01,A.x01),!w))):(a.moveTo(z,U),a.arc(0,0,d,b,g,!w)):a.moveTo(z,U),!(h>N)||!(k>N)?a.lineTo(T,ut):C>N?(x=tn(T,ut,ct,ft,h,-C,w),A=tn(z,U,fn,hn,h,-C,w),a.lineTo(x.cx+x.x01,x.cy+x.y01),C<L?a.arc(x.cx,x.cy,C,I(x.y01,x.x01),I(A.y01,A.x01),!w):(a.arc(x.cx,x.cy,C,I(x.y01,x.x01),I(x.y11,x.x11),!w),a.arc(0,0,h,I(x.cy+x.y11,x.cx+x.x11),I(A.cy+A.y11,A.cx+A.x11),w),a.arc(A.cx,A.cy,C,I(A.y11,A.x11),I(A.y01,A.x01),!w))):a.arc(0,0,h,M,_,w)}if(a.closePath(),u)return a=null,u+""||null}return c.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Te/2;return[he(f)*u,X(f)*u]},c.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:oe(+u),c):e},c.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:oe(+u),c):t},c.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:oe(+u),c):n},c.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:oe(+u),c):r},c.startAngle=function(u){return arguments.length?(i=typeof u=="function"?u:oe(+u),c):i},c.endAngle=function(u){return arguments.length?(o=typeof u=="function"?u:oe(+u),c):o},c.padAngle=function(u){return arguments.length?(s=typeof u=="function"?u:oe(+u),c):s},c.context=function(u){return arguments.length?(a=u??null,c):a},c}function de(e,t,n){this.k=e,this.x=t,this.y=n}de.prototype={constructor:de,scale:function(e){return e===1?this:new de(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new de(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var rr=new de(1,0,0);ir.prototype=de.prototype;function ir(e){for(;!e.__zoom;)if(!(e=e.parentNode))return rr;return e.__zoom}var nn={};_a(nn,{Allspice:()=>yc,Almond:()=>gu,Apple:()=>Du,Aubergine:()=>Dc,Avocado:()=>sc,Banana:()=>Au,Barley:()=>Zl,"Bay Leaf":()=>vc,"Black Bean":()=>eu,"Broad Bean":()=>Yu,Buckwheat:()=>iu,Caraway:()=>fc,Carrot:()=>Hu,Cashew:()=>oc,Cauliflower:()=>Ru,Cheese:()=>Xu,Chickpea:()=>qu,Chicory:()=>Ju,Chilli:()=>lc,Chive:()=>Qu,Chocolate:()=>Jl,Cinnamon:()=>gc,Coconut:()=>bu,Coffee:()=>Ql,Corn:()=>au,Courgette:()=>Vc,Cranberry:()=>cu,Cumin:()=>mc,Date:()=>xu,"Dried Pea":()=>ju,Egg:()=>Wu,Elderberry:()=>pu,Elderflower:()=>du,Fennel:()=>cc,Fenugreek:()=>bc,Garlic:()=>Ku,Ginger:()=>$u,Gooseberry:()=>fu,"Green Bean":()=>Ac,"Green Tea":()=>Ec,Honey:()=>su,"Jerusalem Artichoke":()=>zu,Kale:()=>Bu,"Kidney Bean":()=>tu,Leek:()=>Zu,Lemon:()=>Eu,Lentil:()=>ru,Lettuce:()=>ec,Lime:()=>ku,Lychee:()=>hu,"Maple Syrup":()=>Cc,Mint:()=>hc,Miso:()=>Yl,Mushroom:()=>nc,Mustard:()=>Lu,"Nigella Seed":()=>pc,Oat:()=>ou,Okra:()=>Mc,Orange:()=>Iu,Oregano:()=>dc,Papaya:()=>Fu,Parsley:()=>uc,Passionfruit:()=>Ou,Pecan:()=>wc,Peppercorn:()=>_c,"Pine Nut":()=>xc,Pistachio:()=>ac,Plum:()=>mu,Pomegranate:()=>uu,"Poppy Seed":()=>ic,Potato:()=>Uu,Prune:()=>yu,Quince:()=>Mu,Radish:()=>Tu,Raisin:()=>vu,Rye:()=>Kl,Samphire:()=>Pc,Seaweed:()=>kc,Sesame:()=>rc,Sorrel:()=>Su,Spinach:()=>Sc,"Sweet Potato":()=>Cu,Tamarind:()=>_u,Tofu:()=>tc,Tomato:()=>lu,Turmeric:()=>Gu,Turnip:()=>Nu,Vanilla:()=>wu,"White Bean":()=>nu,"Wholegrain Rice":()=>Xl,Yoghurt:()=>Vu,Yuzu:()=>Pu,default:()=>Ic});var Yl=["Banana","Barley","Chilli","Corn","Dried Pea","Egg","Garlic","Ginger","Honey","Leek","Seaweed","Vanilla","Yoghurt"],Xl=["Avocado","Cashew","Cheese","Chickpea","Egg","Lentil","Maple Syrup","Miso","Seaweed","Sesame","Sorrel","Vanilla"],Kl=["Apple","Avocado","Cheese","Corn","Cranberry","Elderberry","Fennel","Honey","Orange","Plum","Potato","Raisin"],Zl=["Almond","Banana","Broad Bean","Cheese","Chocolate","Coffee","Cranberry","Cumin","Dried Pea","Lemon","Miso","Mushroom","Oat","Potato","Raisin","Seaweed","Tomato"],Ql=["Barley","Black Bean","Date","Fennel","Maple Syrup","Pecan","Prune","Turmeric","Yoghurt"],Jl=["Allspice","Aubergine","Barley","Black Bean","Corn","Green Tea","Honey","Jerusalem Artichoke","Miso","Mustard","Passionfruit","Pecan","Pistachio","Raisin","Rye","Sesame"],eu=["Bay Leaf","Chocolate","Cumin","Ginger","Kale","Orange","Peppercorn","Potato","Sweet Potato","Wholegrain Rice"],tu=["Chilli","Corn","Cumin","Garlic","Pomegranate","White Bean"],nu=["Apple","Buckwheat","Corn","Garlic","Kale","Miso","Mushroom","Mustard","Orange","Tomato"],ru=["Bay Leaf","Carrot","Coconut","Ginger","Kidney Bean","Lime","Mustard","Pomegranate","Potato","Sorrel"],iu=["Almond","Apple","Cheese","Chilli","Corn","Egg","Ginger","Green Tea","Honey","Lemon","Mushroom","Potato","Radish","Raisin","Samphire","Seaweed","Sesame","Sorrel","Sweet Potato","Tofu","Tomato","White Bean"],ou=["Apple","Cinnamon","Coconut","Cranberry","Honey","Maple Syrup","Seaweed"],au=["Avocado","Black Bean","Broad Bean","Chilli","Chocolate","Cinnamon","Coconut","Garlic","Honey","Kale","Leek","Lemon","Lime","Maple Syrup","Plum"],su=["Almond","Banana","Cheese","Chocolate","Cranberry","Date","Fennel","Ginger","Mint","Mustard","Orange","Pistachio","Yoghurt"],lu=["Black Bean","Corn","Fennel","Green Bean","Honey","Kidney Bean","Lentil","Miso","Nigella Seed","Oregano","Passionfruit","Tamarind"],uu=["Apple","Aubergine","Cheese","Green Tea","Potato","Sesame","Tomato","Vanilla"],cu=["Almond","Cheese","Coffee","Corn","Ginger","Lychee","Maple Syrup","Orange","Passionfruit","Prune"],fu=["Apple","Bay Leaf","Elderberry","Elderflower","Fennel","Ginger","Lychee","Oat","Pecan","Vanilla"],hu=["Cheese","Coconut","Lemon","Orange","Seaweed"],du=["Cheese","Corn","Elderberry","Honey","Lemon","Lychee","Passionfruit","Vanilla"],pu=["Allspice","Apple","Cinnamon","Fennel","Honey","Lemon","Plum","Raisin"],mu=["Almond","Cheese","Coconut","Fennel","Kale","Kidney Bean","Lemon","Lentil","Lychee","Oat","Potato","Prune","Raisin","Vanilla"],gu=["Cashew","Elderberry","Fenugreek","Kale","Leek","Prune","Quince"],yu=["Bay Leaf","Chocolate","Coconut","Elderflower","Fennel","Green Tea","Leek","Oat","Orange","Pecan","Quince","Yoghurt"],vu=["Allspice","Almond","Apple","Cauliflower","Cheese","Ginger","Lemon","Orange","Vanilla","White Bean","Wholegrain Rice"],_u=["Apple","Cheese","Chilli","Date","Honey","Lime","Papaya","Sweet Potato"],xu=["Banana","Coconut","Egg","Nigella Seed","Oat","Orange","Pecan","Pistachio","Plum","Prune","Sesame","Sweet Potato","Tomato","Turnip","Yoghurt"],wu=["Allspice","Cashew","Cranberry","Date","Lychee","Oat","Passionfruit","Peppercorn","Pistachio","Prune","Sesame","Yoghurt"],Cu=["Apple","Coconut","Fennel","Green Tea","Kidney Bean","Lime","Maple Syrup","Quince","Vanilla"],bu=["Cashew","Dried Pea","Kidney Bean","Mustard","Papaya","Pecan","Poppy Seed","Raisin","Tamarind","Turmeric","Wholegrain Rice"],Au=["Barley","Maple Syrup","Passionfruit"],Mu=["Apple","Cheese","Cinnamon","Cranberry","Garlic","Honey","Mustard","Raisin","Vanilla","Yoghurt"],Du=["Caraway","Cranberry","Elderflower","Kale","Mustard","Plum","Prune","Sorrel"],Vu=["Apple","Barley","Carrot","Chilli","Egg","Garlic","Gooseberry","Lentil","Mint","Oat","Pistachio","Sesame","Sorrel"],Su=["Buckwheat","Courgette","Egg","Gooseberry","Leek","Parsley","Potato","Spinach","White Bean"],Eu=["Allspice","Dried Pea","Fennel","Gooseberry","Honey","Oregano","Peppercorn","Pine Nut","Poppy Seed","Prune","Quince","Seaweed","Sorrel"],ku=["Black Bean","Courgette","Date","Green Tea","Okra","Passionfruit","Peppercorn","Pomegranate"],Pu=["Chilli","Honey","Lemon","Lychee","Miso","Mushroom","Orange"],Iu=["Caraway","Cashew","Chicory","Kale","Kidney Bean","Papaya","Plum","Pomegranate","Seaweed","Turnip"],Ou=["Apple","Chocolate","Coconut","Egg","Kale","Lemon","Orange","Papaya"],Fu=["Banana","Cheese","Cinnamon","Ginger","Lemon","Lime","Mint","Vanilla"],Nu=["Carrot","Chickpea","Dried Pea","Honey","Lettuce","Potato","White Bean"],Tu=["Buckwheat","Carrot","Chilli","Chive","Lettuce","Parsley","Rye","Seaweed"],Bu=["Avocado","Cheese","Chilli","Garlic","Ginger","Lemon","Mint","Oat","Pecan","Pine Nut","Pistachio","Potato"],Ru=["Allspice","Date","Fenugreek","Lentil","Pomegranate","Sesame"],Lu=["Cheese","Cranberry","Cumin","Garlic","Green Bean","Leek","Miso","Papaya","Radish","Rye","Tomato","Turmeric"],Gu=["Black Bean","Carrot","Cauliflower","Chickpea","Cinnamon","Dried Pea","Ginger","Lemon","Lentil","Miso","Peppercorn","Vanilla","Wholegrain Rice"],$u=["Buckwheat","Caraway","Date","Elderberry","Oat","Rye","Seaweed","Tamarind","Tofu","Yuzu"],Hu=["Bay Leaf","Courgette","Miso","Oregano","Raisin","Seaweed","Tofu"],zu=["Cheese","Chicory","Garlic","Leek","Lemon","Miso","Mushroom","Pecan","Potato","Sweet Potato"],Uu=["Barley","Buckwheat","Chickpea","Dried Pea","Green Bean","Nigella Seed","Peppercorn","Spinach"],ju=["Barley","Chilli","Mint","Peppercorn","Rye","Sorrel","Tomato"],qu=["Avocado","Broad Bean","Chilli","Coconut","Lemon","Pomegranate","Prune","Raisin","Spinach","Yoghurt"],Wu=["Broad Bean","Caraway","Chickpea","Courgette","Honey","Leek","Mustard","Radish","Rye","Sesame","Tamarind","Yuzu"],Yu=["Cheese","Chicory","Chilli","Chive","Fennel","Garlic","Lettuce","Potato","Samphire","Wholegrain Rice","Yoghurt"],Xu=["Black Bean","Caraway","Corn","Date","Elderberry","Fenugreek","Green Tea","Leek","Lettuce","Oat","Oregano","Pecan","Pistachio","Prune","Sorrel"],Ku=["Bay Leaf","Black Bean","Chive","Fenugreek","Lentil","Okra","Rye","Spinach"],Zu=["Chive","Mushroom","Potato","Spinach","White Bean"],Qu=["Cheese","Egg","Lentil","Lettuce","Miso","Mustard","Potato","Tomato","Yoghurt"],Ju=["Cheese","Coffee","Egg","Garlic","Ginger","Lentil","Mustard","White Bean"],ec=["Chickpea","Corn","Egg","Garlic","Lemon","Mustard","Potato","Sorrel","Tomato"],tc=["Buckwheat","Chilli","Chive","Egg","Green Tea","Miso","Mushroom","Radish","Sesame","Tomato","Turmeric"],nc=["Corn","Honey","Maple Syrup","Mustard","Oregano","Peppercorn","Rye","Spinach","Tofu","Wholegrain Rice"],rc=["Aubergine","Buckwheat","Chickpea","Chocolate","Cinnamon","Coffee","Ginger","Honey","Kale","Lemon","Miso","Poppy Seed","Spinach","Sweet Potato","Yuzu"],ic=["Almond","Cheese","Cinnamon","Honey","Lettuce","Orange","Plum","Potato","Vanilla"],oc=["Chickpea","Chilli","Chive","Date","Garlic","Honey","Kale","Oat","Raisin","Sesame"],ac=["Allspice","Almond","Lemon","Maple Syrup","Orange","Peppercorn","Plum","Pomegranate","Sesame"],sc=["Black Bean","Honey","Lettuce","Papaya","Radish","Seaweed"],lc=["Buckwheat","Green Bean","Lentil","Mustard","Okra","Papaya","Sesame"],uc=["Broad Bean","Chickpea","Chive","Dried Pea","Green Bean","Jerusalem Artichoke","Pomegranate","Wholegrain Rice"],cc=["Almond","Cheese","Garlic","Leek","Nigella Seed","Orange","Passionfruit","Peppercorn","Sesame","White Bean"],fc=["Allspice","Cinnamon","Cumin","Fennel","Poppy Seed","Potato","Raisin","Rye"],hc=["Broad Bean","Date","Elderflower","Gooseberry","Lentil","Pine Nut","Tamarind"],dc=["Courgette","Cumin","Garlic","Honey","Orange","Potato","Sesame","Sweet Potato"],pc=["Carrot","Cauliflower","Cheese","Coconut","Cumin","Lemon","Peppercorn","Rye","Sesame"],mc=["Broad Bean","Chickpea","Lentil","Okra","Tamarind","Turnip","Yoghurt"],gc=["Allspice","Cranberry","Date","Honey","Mustard","Oregano","Plum","Prune","Raisin","Sweet Potato"],yc=["Bay Leaf","Broad Bean","Chilli","Chocolate","Coconut","Ginger","Lentil","Orange","Peppercorn","Tomato","Wholegrain Rice"],vc=["Cashew","Cinnamon","Fennel","Orange","Parsley","Peppercorn","Plum","Potato","Wholegrain Rice"],_c=["Apple","Aubergine","Cauliflower","Cheese","Chickpea","Chilli","Chocolate","Cinnamon","Coconut","Cumin","Egg","Ginger","Miso","Orange","Tomato"],xc=["Almond","Apple","Avocado","Carrot","Cheese","Cinnamon","Corn","Date","Egg","Fennel","Garlic","Mushroom","Raisin"],wc=["Apple","Chicory","Chocolate","Cinnamon","Cranberry","Miso","Oat","Raisin","Sweet Potato","Vanilla"],Cc=["Apple","Cinnamon","Egg","Fennel","Fenugreek","Lemon","Mustard","Pecan","Peppercorn","Pine Nut","Plum","Vanilla","Yoghurt"],bc=["Cashew","Chickpea","Chilli","Coconut","Cumin","Honey","Lentil","Nigella Seed","Potato","Spinach","Sweet Potato","Tomato","Turmeric","Yoghurt"],Ac=["Almond","Cheese","Cinnamon","Garlic","Miso","Mushroom","Sesame","Turmeric","White Bean"],Mc=["Aubergine","Chickpea","Corn","Egg","Mustard","Tamarind","Tomato","White Bean"],Dc=["Courgette","Miso","Yoghurt"],Vc=["Cashew","Cheese","Chickpea","Cinnamon","Garlic","Lemon","Mint","Raisin","Tomato","Yoghurt"],Sc=["Allspice","Cheese","Egg","Lemon","Pine Nut","Raisin","Tofu","Vanilla","White Bean","Wholegrain Rice","Yoghurt"],Ec=["Avocado","Coconut","Egg","Gooseberry","Honey","Mint","Sesame","Vanilla","Wholegrain Rice"],kc=["Barley","Coconut","Egg","Mushroom","Plum","Potato","Rye","Samphire","Sesame","Tofu"],Pc=["Buckwheat","Egg","Garlic","Lemon","Lettuce","Potato","Tomato"],Ic={Miso:Yl,"Wholegrain Rice":Xl,Rye:Kl,Barley:Zl,Coffee:Ql,Chocolate:Jl,"Black Bean":eu,"Kidney Bean":tu,"White Bean":nu,Lentil:ru,Buckwheat:iu,Oat:ou,Corn:au,Honey:su,Tomato:lu,Pomegranate:uu,Cranberry:cu,Gooseberry:fu,Lychee:hu,Elderflower:du,Elderberry:pu,Plum:mu,Almond:gu,Prune:yu,Raisin:vu,Tamarind:_u,Date:xu,Vanilla:wu,"Sweet Potato":Cu,Coconut:bu,Banana:Au,Quince:Mu,Apple:Du,Yoghurt:Vu,Sorrel:Su,Lemon:Eu,Lime:ku,Yuzu:Pu,Orange:Iu,Passionfruit:Ou,Papaya:Fu,Turnip:Nu,Radish:Tu,Kale:Bu,Cauliflower:Ru,Mustard:Lu,Turmeric:Gu,Ginger:$u,Carrot:Hu,"Jerusalem Artichoke":zu,Potato:Uu,"Dried Pea":ju,Chickpea:qu,Egg:Wu,"Broad Bean":Yu,Cheese:Xu,Garlic:Ku,Leek:Zu,Chive:Qu,Chicory:Ju,Lettuce:ec,Tofu:tc,Mushroom:nc,Sesame:rc,"Poppy Seed":ic,Cashew:oc,Pistachio:ac,Avocado:sc,Chilli:lc,Parsley:uc,Fennel:cc,Caraway:fc,Mint:hc,Oregano:dc,"Nigella Seed":pc,Cumin:mc,Cinnamon:gc,Allspice:yc,"Bay Leaf":vc,Peppercorn:_c,"Pine Nut":xc,Pecan:wc,"Maple Syrup":Cc,Fenugreek:bc,"Green Bean":Ac,Okra:Mc,Aubergine:Dc,Courgette:Vc,Spinach:Sc,"Green Tea":Ec,Seaweed:kc,Samphire:Pc};var Zo=(()=>{let t=class t{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};t.\u0275fac=function(i){return new(i||t)(V(Ge),V(Le))},t.\u0275dir=j({type:t});let e=t;return e})(),sn=(()=>{let t=class t extends Zo{};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=Re(t)))(o||t)}})(),t.\u0275dir=j({type:t,features:[se]});let e=t;return e})(),lt=new Se("NgValueAccessor");var Fc={provide:lt,useExisting:Ve(()=>ln),multi:!0};function Nc(){let e=_n()?_n().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Tc=new Se("CompositionEventMode"),ln=(()=>{let t=class t extends Zo{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Nc())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};t.\u0275fac=function(i){return new(i||t)(V(Ge),V(Le),V(Tc,8))},t.\u0275dir=j({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&q("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[ke([Fc]),se]});let e=t;return e})();var Bc=new Se("NgValidators"),Rc=new Se("NgAsyncValidators");function Qo(e){return e!=null}function Jo(e){return Mr(e)?gr(e):e}function ea(e){let t={};return e.forEach(n=>{t=n!=null?ae(ae({},t),n):t}),Object.keys(t).length===0?null:t}function ta(e,t){return t.map(n=>n(e))}function Lc(e){return!e.validate}function na(e){return e.map(t=>Lc(t)?t:n=>t.validate(n))}function Gc(e){if(!e)return null;let t=e.filter(Qo);return t.length==0?null:function(n){return ea(ta(n,t))}}function ra(e){return e!=null?Gc(na(e)):null}function $c(e){if(!e)return null;let t=e.filter(Qo);return t.length==0?null:function(n){let r=ta(n,t).map(Jo);return vr(r).pipe(yr(ea))}}function ia(e){return e!=null?$c(na(e)):null}function zo(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Hc(e){return e._rawValidators}function zc(e){return e._rawAsyncValidators}function ar(e){return e?Array.isArray(e)?e:[e]:[]}function on(e,t){return Array.isArray(e)?e.includes(t):e===t}function Uo(e,t){let n=ar(t);return ar(e).forEach(i=>{on(n,i)||n.push(i)}),n}function jo(e,t){return ar(t).filter(n=>!on(e,n))}var an=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ra(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ia(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},sr=class extends an{get formDirective(){return null}get path(){return null}},st=class extends an{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},lr=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Uc={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},xv=De(ae({},Uc),{"[class.ng-submitted]":"isSubmitted"}),oa=(()=>{let t=class t extends lr{constructor(r){super(r)}};t.\u0275fac=function(i){return new(i||t)(V(st,2))},t.\u0275dir=j({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&br("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[se]});let e=t;return e})();var ot="VALID",rn="INVALID",Be="PENDING",at="DISABLED";function jc(e){return(un(e)?e.validators:e)||null}function qc(e){return Array.isArray(e)?ra(e):e||null}function Wc(e,t){return(un(t)?t.asyncValidators:e)||null}function Yc(e){return Array.isArray(e)?ia(e):e||null}function un(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var ur=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ot}get invalid(){return this.status===rn}get pending(){return this.status==Be}get disabled(){return this.status===at}get enabled(){return this.status!==at}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Uo(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Uo(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(jo(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(jo(t,this._rawAsyncValidators))}hasValidator(t){return on(this._rawValidators,t)}hasAsyncValidator(t){return on(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Be,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=at,this.errors=null,this._forEachChild(r=>{r.disable(De(ae({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(De(ae({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ot,this._forEachChild(r=>{r.enable(De(ae({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(De(ae({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ot||this.status===Be)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?at:ot}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Be,this._hasOwnPendingAsyncValidator=!0;let n=Jo(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new gt,this.statusChanges=new gt}_calculateStatus(){return this._allControlsDisabled()?at:this.errors?rn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Be)?Be:this._anyControlsHaveStatus(rn)?rn:ot}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){un(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=qc(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Yc(this._rawAsyncValidators)}};var aa=new Se("CallSetDisabledState",{providedIn:"root",factory:()=>fr}),fr="always";function Xc(e,t){return[...t.path,e]}function Kc(e,t,n=fr){Qc(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),Jc(e,t),tf(e,t),ef(e,t),Zc(e,t)}function qo(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Zc(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function Qc(e,t){let n=Hc(e);t.validator!==null?e.setValidators(zo(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=zc(e);t.asyncValidator!==null?e.setAsyncValidators(zo(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();qo(t._rawValidators,i),qo(t._rawAsyncValidators,i)}function Jc(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&sa(e,t)})}function ef(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&sa(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function sa(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function tf(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function nf(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function rf(e){return Object.getPrototypeOf(e.constructor)===sn}function of(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===ln?n=o:rf(o)?r=o:i=o}),i||r||n||null}function Wo(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Yo(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var af=class extends ur{constructor(t=null,n,r){super(jc(n),Wc(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),un(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Yo(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Wo(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Wo(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Yo(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var sf={provide:st,useExisting:Ve(()=>hr)},Xo=Promise.resolve(),hr=(()=>{let t=class t extends st{constructor(r,i,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new af,this._registered=!1,this.name="",this.update=new gt,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=of(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),nf(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Kc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){Xo.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Er(i);Xo.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Xc(r,this._parent):[r]}};t.\u0275fac=function(i){return new(i||t)(V(sr,9),V(Bc,10),V(Rc,10),V(lt,10),V(Cr,8),V(aa,8))},t.\u0275dir=j({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[dt.None,"disabled","isDisabled"],model:[dt.None,"ngModel","model"],options:[dt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ke([sf]),se,_r]});let e=t;return e})();var lf={provide:lt,useExisting:Ve(()=>dr),multi:!0},dr=(()=>{let t=class t extends sn{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=Re(t)))(o||t)}})(),t.\u0275dir=j({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&q("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[ke([lf]),se]});let e=t;return e})();var uf=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=mt({type:t}),t.\u0275inj=ht({});let e=t;return e})();var cf={provide:lt,useExisting:Ve(()=>cn),multi:!0};function la(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function ff(e){return e.split(":")[0]}var cn=(()=>{let t=class t extends sn{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=la(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=ff(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=Re(t)))(o||t)}})(),t.\u0275dir=j({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&q("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[ke([cf]),se]});let e=t;return e})(),ua=(()=>{let t=class t{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(la(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};t.\u0275fac=function(i){return new(i||t)(V(Le),V(Ge),V(cn,9))},t.\u0275dir=j({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let e=t;return e})(),hf={provide:lt,useExisting:Ve(()=>ca),multi:!0};function Ko(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function df(e){return e.split(":")[0]}var ca=(()=>{let t=class t extends sn{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let l=0;l<a.length;l++){let c=a[l],u=this._getOptionValue(c.value);o.push(u)}}else{let a=i.options;for(let l=0;l<a.length;l++){let c=a[l];if(c.selected){let u=this._getOptionValue(c.value);o.push(u)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=df(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=Re(t)))(o||t)}})(),t.\u0275dir=j({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&q("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[ke([hf]),se]});let e=t;return e})(),fa=(()=>{let t=class t{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(Ko(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(Ko(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};t.\u0275fac=function(i){return new(i||t)(V(Le),V(Ge),V(ca,9))},t.\u0275dir=j({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let e=t;return e})();var pf=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=mt({type:t}),t.\u0275inj=ht({imports:[uf]});let e=t;return e})();var ha=(()=>{let t=class t{static withConfig(r){return{ngModule:t,providers:[{provide:aa,useValue:r.callSetDisabledState??fr}]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=mt({type:t}),t.\u0275inj=ht({imports:[pf]});let e=t;return e})();var da=(()=>{let t=class t{constructor(){this.dataObj=Object.assign(nn)}loadHeaders(){let r=Object.keys(nn);return r.pop(),r}loadData(r,i){let o=[];r?o=JSON.parse(JSON.stringify(r)):(console.log("Missing headers, using all as default"),o=this.loadHeaders());let s=[],a=JSON.parse(JSON.stringify(o));o?.forEach(f=>{this.dataObj[f].forEach(d=>{a.includes(d)||a.push(d)})}),a.forEach(f=>{this.dataObj[f].forEach(d=>{a.includes(d)&&(s[a.indexOf(f)]||(s[a.indexOf(f)]=Array(a.length).fill(0)),s[a.indexOf(d)]||(s[a.indexOf(d)]=Array(a.length).fill(0)),s[a.indexOf(f)][a.indexOf(d)]=1,s[a.indexOf(d)][a.indexOf(f)]=1)})});let l=i||1,c=[];a.forEach((f,h)=>{let d=0;o.forEach((v,y)=>{(s[h][y]||s[y][h])&&d++}),d<l&&!o.includes(f)&&c.push(h)});let u=0;return c.forEach(f=>{s.forEach(h=>h.splice(f-u,1)),s.splice(f-u,1),a.splice(f-u,1),u++}),[a,s]}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=yn({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function yf(e,t){if(e&1&&(O(0,"option",9),W(1),G()),e&2){let n=t.$implicit;Vr("value",n),te(),vn(n)}}function vf(e,t){if(e&1){let n=Ar();O(0,"li"),W(1),O(2,"button",10),q("click",function(){let o=xr(n).$implicit,s=Dr();return wr(s.removeHeader(o))}),W(3,"X"),G()()}if(e&2){let n=t.$implicit;te(),Sr("",n," ")}}function _f(e,t){if(e&1&&(O(0,"li"),W(1),G()),e&2){let n=t.$implicit;te(),vn(n)}}var pa=(()=>{let t=class t{constructor(r){this.service=r,this.width=928,this.height=this.width,this.data=[],this.names=[],this.colors=["#c4c4c4","#69b40f","#ec1d25","#c8125c","#008fc8","#10218b","#134b24","#737373","#ea1b25","#c2123c"],this.nameInput="",this.availableNames=[],this.selectedNames=["Orange","Chocolate","Allspice","Peppercorn"],this.filterLimit=2,this.outerRadius=Math.min(this.width,this.height)*.5-60,this.innerRadius=this.outerRadius-10,this.tickStep=wn(0,wt(this.data.flat()),100),this.formatValue=Jt(".1~%"),this.chord=zn().padAngle(10/this.innerRadius).sortSubgroups($e).sortChords($e),this.arc=nr().innerRadius(this.innerRadius).outerRadius(this.outerRadius),this.ribbon=qn().radius(this.innerRadius-1).padAngle(1/this.innerRadius),this.color=Ae(this.names,this.colors)}ngOnInit(){this.availableNames=this.service.loadHeaders();let r=this.service.loadData(this.selectedNames,this.filterLimit);this.names=r[0],this.data=r[1],this.createSvg(),this.updateChords()}addHeader(r){this.selectedNames.includes(r)||(this.selectedNames.push(r),this.refreshData(),console.log(this.selectedNames))}removeHeader(r){let i=this.selectedNames.indexOf(r);i>=0&&this.selectedNames.splice(i,1),this.refreshData()}clearHeaders(){this.selectedNames=[],this.filterLimit=1,this.refreshData()}refreshData(){let r=this.service.loadData(this.selectedNames,this.filterLimit);this.names=r[0],this.data=r[1],this.updateChords()}createSvg(){this.svg=St("figure#chart").append("svg").attr("width",this.width).attr("height",this.height).attr("viewBox",[-this.width/2,-this.height/2,this.width,this.height]).attr("style","width: 100%; height: auto; font: 10px sans-serif;");let r=this.svg.append("g");this.ribbonGroup=r.append("g").attr("id","ribbons"),this.arcGroup=r.append("g").attr("id","arcs"),this.labelGroup=r.append("g").attr("id","labels")}updateChords(){let i=this.chord(this.data),o=this.ribbonGroup.selectAll("path.ribbon").data(i),s=o.enter().append("path");o.merge(s).attr("opacity",0).attr("class","ribbon").transition().duration(1e3).attr("d",this.ribbon).attr("fill",f=>f.source.index<this.selectedNames.length?this.color(this.names[f.source.index]):"#6F6F6F").attr("opacity",1),o.exit().transition().duration(1e3).attr("opacity",0).remove();let a=this.arcGroup.selectAll("path.arc").data(i.groups),l=a.enter().append("path");a.merge(l).attr("opacity",0).attr("class","arc").transition().duration(1e3).attr("d",this.arc).style("fill",f=>this.color(this.names[f.index])).attr("opacity",1),a.exit().transition().duration(1e3).attr("opacity",0).remove();let c=this.labelGroup.selectAll("text.titles").data(i.groups),u=c.enter().append("text");c.merge(u).attr("class","titles").attr("opacity",0).transition().duration(1e3).each(function(f){f.angle=(f.startAngle+f.endAngle)/2}).attr("dy",".35em").attr("text-anchor",function(f){return f.angle>Math.PI?"end":null}).attr("transform",function(f){return"rotate("+(f.angle*180/Math.PI-90)+")translate("+(Math.min(928,928)*.5-60+10)+")"+(f.angle>Math.PI?"rotate(180)":"")}).text(f=>this.names[f.index]).attr("opacity",1),c.exit().remove()}drawChords(r){let i=this.chord(this.data);this.svg.append("g").attr("id","group").selectAll().data(i.groups).join("g").append("path").attr("fill",s=>this.color(this.names[s.index])).attr("d",this.arc).attr("id",s=>s.index)}groupTicks(r,i){let o=(r.endAngle-r.startAngle)/r.value;return xt(0,r.value,i).map(s=>({value:s,angle:s*o+r.startAngle}))}};t.\u0275fac=function(i){return new(i||t)(V(da))},t.\u0275cmp=pt({type:t,selectors:[["app-pie"]],standalone:!0,features:[vt],decls:19,vars:5,consts:[[2,"display","flex","flex-direction","row","width","100%"],["id","chart"],[2,"width","30%"],["type","number",3,"ngModel","ngModelChange","change"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[2,"background-color","green",3,"click"],[3,"click"],[4,"ngFor","ngForOf"],[3,"value"],[1,"btn-cancel",2,"background-color","red",3,"click"]],template:function(i,o){i&1&&(O(0,"div",0)(1,"div"),pe(2,"figure",1),G(),O(3,"div",2),W(4," Minimum Links: "),O(5,"input",3),q("ngModelChange",function(a){return o.filterLimit=a})("change",function(){return o.refreshData()}),G(),pe(6,"br"),O(7,"select",4),q("ngModelChange",function(a){return o.nameInput=a}),yt(8,yf,2,2,"option",5),G(),O(9,"button",6),q("click",function(){return o.addHeader(o.nameInput)}),W(10,"Add"),G(),O(11,"button",7),q("click",function(){return o.clearHeaders()}),W(12,"Clear Selection"),G(),pe(13,"br"),O(14,"ul"),yt(15,vf,4,1,"li",8),G()()(),W(16,` Displayed Flavours:
`),O(17,"ul"),yt(18,_f,2,1,"li",8),G()),i&2&&(te(5),Ee("ngModel",o.filterLimit),te(2),Ee("ngModel",o.nameInput),te(),Ee("ngForOf",o.availableNames),te(7),Ee("ngForOf",o.selectedNames),te(3),Ee("ngForOf",o.names))},dependencies:[_t,Pr,ha,ua,fa,ln,dr,cn,oa,hr]});let e=t;return e})();var ma=(()=>{let t=class t{constructor(){this.title="flavour-pairings"}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=pt({type:t,selectors:[["app-root"]],standalone:!0,features:[vt],decls:5,vars:0,consts:[["rel","stylesheet","href","https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css"]],template:function(i,o){i&1&&(O(0,"header"),pe(1,"link",0),O(2,"h1"),W(3,"Angular + D3"),G()(),pe(4,"app-pie"))},dependencies:[_t,pa]});let e=t;return e})();var ga=[];var ya={providers:[Nr(ga),Or()]};var xf={providers:[Fr()]},va=kr(ya,xf);var wf=()=>Ir(ma,va),qv=wf;export{qv as a};
